<%@ page trimDirectiveWhitespaces="true"%>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core"%>
<%@ taglib prefix="spring" uri="http://www.springframework.org/tags"%>
<%@ taglib prefix="fn" uri="http://java.sun.com/jsp/jstl/functions"%>
<%@ taglib prefix="cms" uri="http://hybris.com/tld/cmstags"%>
<%@ taglib prefix="ycommerce" uri="http://hybris.com/tld/ycommercetags"%>
<%@ taglib prefix="sec" uri="http://www.springframework.org/security/tags"%>
<%@ taglib prefix="nav" tagdir="/WEB-INF/tags/responsive/nav"%>


	<spring:htmlEscape defaultHtmlEscape="true" />

<div class="headertop">
	<div class="container">
		<div class="htop">
			<div class="left-top">
				<div class="mr">
					<img src="${fn:escapeXml(commonResourcePath)}/images/header-icon-10y-warranty.png"/>
					<span>Garansi 10 Tahun</span>
				</div>
				<div class="no">
					<img src="${fn:escapeXml(commonResourcePath)}/images/header-icon-free-shipping.png"/>
					<span>Free Shipping pulau Jawa & Sumatera</span>
				</div>
			</div>
			<div class="right-top">
				<a class="ac" href="#">Garansi</a>
				<a class="ac" href="#">Konfirmasi</a>
				<a href="#">Cek Resi</a>
			</div>
		</div>
	</div>
</div>
	<nav class="navigation navigation--bottom js_navigation--bottom js-enquire-offcanvas-navigation" role="navigation">
		<div class="container">


		<ul class="sticky-nav-top hidden-lg hidden-md js-sticky-user-group hidden-md hidden-lg">
                <%--Dynamically generated by 'acc.navigation.js"--%>
        </ul>
		<div class="navigation__overflow">
			<ul data-trigger="#signedInUserOptionsToggle" class="nav__links nav__links--products nav__links--mobile js-userAccount-Links js-nav-collapse-body offcanvasGroup1 collapse in hidden-md hidden-lg">
                   <%--Dynamically generated by 'acc.navigation.js"--%>
           	</ul>

	<div class="head-main">
				<div class="left-head">
				<div class="burger-button">
			    	<svg  xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"/></svg>
				</div>
					<cms:pageSlot position="SiteLogo" var="feature">
						<cms:component component="${feature}" element="img" class="banner"/>
					</cms:pageSlot>
				</div>


			<div class="mid-head">

				<ul class="nav__links nav__links--products js-offcanvas-links head-nav">


				 <c:forEach items="${component.navigationNode.children}" var="childLevel1">
					 <li class="auto nav__links--primary <c:if test="${not empty childLevel1.children}">nav__links--primary-has__sub js-enquire-has-sub</c:if>">

						 <c:forEach items="${childLevel1.entries}" var="childlink1">
							 <cms:component component="${childlink1.item}" evaluateRestriction="true" element="span" class="nav__link js_nav__link" />
						 </c:forEach>

						 <%-- Calculate how many sub columns are needed -- Start --%>
						 <c:set var="totalSubNavigationColumns" value="${0}"/>
						 <c:set var="hasSubChild" value="false"/>
						 <c:forEach items="${childLevel1.children}" var="childLevel2">
							 <c:if test="${not empty childLevel2.children}">
								 <c:set var="hasSubChild" value="true"/>
								 <c:set var="subSectionColumns" value="${fn:length(childLevel2.children)/component.wrapAfter}"/>
								 <c:if test="${subSectionColumns > 1 && fn:length(childLevel2.children)%component.wrapAfter > 0}">
									 <c:set var="subSectionColumns" value="${subSectionColumns + 1}"/>
								 </c:if>

							 </c:if>
						 </c:forEach>

					 </li>
				 </c:forEach>


			 </ul>
			</div>
			<div class="right-head">
				<div class="login-nav">
					<div class="login-btn">
						<div class="loginlink">

							<ul class="nav__links nav__links--account">
								<c:if test="${empty hideHeaderLinks}">
									<c:if test="${uiExperienceOverride}">
										<li class="backToMobileLink">
											<c:url value="/_s/ui-experience?level=" var="backToMobileStoreUrl" />
											<a href="${fn:escapeXml(backToMobileStoreUrl)}">
												<spring:theme code="text.backToMobileStore" />
											</a>
										</li>
									</c:if>

									<sec:authorize access="!hasAnyRole('ROLE_ANONYMOUS')">
										<c:set var="maxNumberChars" value="25" />
										<c:if test="${fn:length(user.firstName) gt maxNumberChars}">
											<c:set target="${user}" property="firstName"
												value="${fn:substring(user.firstName, 0, maxNumberChars)}..." />
										</c:if>

										<li class="logged_in js-logged_in">
											<ycommerce:testId code="header_LoggedUser">
												<spring:theme code="header.welcome" arguments="${user.firstName},${user.lastName}" />
											</ycommerce:testId>
										</li>
									</sec:authorize>

									 <cms:pageSlot position="HeaderLinks" var="link">
										 <cms:component component="${link}" element="li" />
									 </cms:pageSlot>

									<sec:authorize access="hasAnyRole('ROLE_ANONYMOUS')" >
										<li class="liOffcanvas">
											<ycommerce:testId code="header_Login_link">
												<c:url value="/login" var="loginUrl" />
												<a href="${fn:escapeXml(loginUrl)}">
													LOGIN
												</a>
											</ycommerce:testId>
										</li>
									</sec:authorize>

									<sec:authorize access="!hasAnyRole('ROLE_ANONYMOUS')" >
										<li class="liOffcanvas">
											<ycommerce:testId code="header_signOut">
												<c:url value="/logout" var="logoutUrl"/>
												<a href="${fn:escapeXml(logoutUrl)}">
													LOGOUT
												</a>
											</ycommerce:testId>
										</li>
									</sec:authorize>

								</c:if>
							</ul>
							<div class="logocart">
								<a href=#>
								<img src="${fn:escapeXml(commonResourcePath)}/images/cart-icon.png"/>
								</a>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		</div>
	</div>

